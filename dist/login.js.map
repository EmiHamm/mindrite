{"version":3,"sources":["webpack:///./public/static/scripts/login.js","webpack:///./public/static/scripts/notifications.js"],"names":["login","formWrapper","document","querySelectorAll","formInputs","passwordInput","getElementById","submitButton","loginState","email","password","classList","includes","add","response","post","headers","data","success","remove","window","localStorage","setItem","res","token","JSON","stringify","user","location","href","failure","Event","dispatchEvent","err","error","formErrors","showPassword","type","hidePassword","notifications","options","settings","container","notification","timeout","content","posX","posY","count","_applySettings","open","_open","bind","close","_close","i","hasOwnProperty","_container","createElement","_contentHolder","_content","className","style","position","innerHTML","_checkOptions","appendChild","body","item","right","left","top","bottom","notifyId","_buildOut","call","setTimeout","setAttribute","notificationId","parentNode","removeChild"],"mappings":"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","file":"login.js","sourcesContent":["import axios from 'axios';\nimport notifications from './notifications';\n\nexport default function login() {\n    const formWrapper = document.querySelectorAll('.form-wrapper');\n    const formInputs = document.querySelectorAll('.form-wrapper input');\n    const passwordInput = document.getElementById('password');\n    const submitButton = document.getElementById('login-submit');\n    const loginState = {\n        email: '',\n        password: '',\n    };\n\n    async function login() { \n        if (submitButton.classList.includes('form-valid')) {\n            submitButton.classList.add('loading');\n\n            try {\n                const response = await axios.post('/login', loginState, {\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                });\n\n                if (response.data.success) {\n                    submitButton.classList.remove('loading');\n                    window.localStorage.setItem('token', response.data.res.token);\n                    window.localStorage.setItem('user', JSON.stringify(response.data.res.user));\n                    window.location.href = '/admin';\n                } else {\n                    const failure = new Event('login-failure');\n                    submitButton.classList.remove('loading');\n                    window.dispatchEvent(failure);\n                }\n            } catch (err) {\n                const error = new Event('login-error');\n                submitButton.classList.remove('loading');\n                window.dispatchEvent(error);\n            }\n        } else {\n            const formErrors = new Event('invalid-form');\n            window.dispatchEvent(formErrors);\n        }\n    }\n\n    function showPassword() {\n        passwordInput.type = \"text\";\n    }\n\n    function hidePassword() {\n        passwordInput.type = \"password\";\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./public/static/scripts/login.js","class notifications {\n    constructor(options) {\n        this.settings = {\n            container: null,\n            notification: null,\n            timeout: 0,\n            type: 'alert',\n            content: \"\",\n            posX: 'right',\n            posY: 'bottom'\n        }\n\n        this.count = 0;\n        this._applySettings(options);\n        this.open = this._open.bind(this);\n        this.close = this._close.bind(this);\n    }\n\n    _applySettings(options) {\n        if (typeof options === 'object') {\n            for (var i in options) {\n                if (options.hasOwnProperty(i)) {\n                    this.settings[i] = options[i];\n                }\n            }\n        }\n    }\n\n    _buildOut() {\n        var _container = document.createElement('div');\n        var _contentHolder = document.createElement('div');\n        var _content;\n\n        _container.className = 'notification-container';\n        _contentHolder.className = 'notification';\n\n        this.settings.container = _container;\n        this.settings.container.style.position = \"fixed\";\n\n        if (this.settings.content === \"string\") {\n            _content = this.settings.content;\n        } else {\n            _content = this.settings.content.innerHTML;\n        }\n\n        this._checkOptions(_contentHolder);\n\n        _contentHolder.innerHTML = _content;\n        this.settings.container.appendChild(_contentHolder);\n        document.body.appendChild(this.settings.container);\n    }\n\n    _checkOptions(item) {\n        switch(this.settings.type) {\n            case \"success\":\n                item.classList.add('success');\n                break;\n            case \"danger\":\n                item.classList.add('danger');\n                break;\n            case \"warning\":\n                item.classList.add('warning');\n                break;\n            default:\n                item.classList.add('alert');\n        }\n\n        switch(this.settings.posX) {\n            case \"right\":\n                this.settings.container.style.right = 20 + \"px\";\n                break;\n            case \"left\":\n                this.settings.container.style.left = 20 + \"px\";\n                break;\n            default:\n                this.settings.container.style.right = 20 + \"px\";\n        }\n\n        switch(this.settings.posY) {\n                case \"top\":\n                    this.settings.container.style.top = 20 + \"px\";\n                    break;\n                case \"bottom\":\n                    this.settings.container.style.bottom = 20 + \"px\";\n                    break;\n                default:\n                    this.settings.container.style.bottom = 20 + \"px\";\n        }\n    }\n\n    _open() {\n        var notifyId = \"notification-\" + this.count;\n        this._buildOut.call(this);\n\n        setTimeout(() => {\n            this.settings.container.classList.add('shown');\n            this.settings.container.setAttribute('id', notifyId);\n        }, 100);\n\n        if (this.settings.timeout > 0) {\n            setTimeout(() => {\n                this.close(notifyId);\n            }, this.settings.timeout);\n        }\n\n        this.count += 1;\n\n        return notifyId;\n    }\n\n    _close(notificationId) {\n        var notification = document.getElementById(notificationId);\n\n        if (notification) {\n            notification.classList.remove('shown');\n\n            setTimeout(() => {\n                notification.parentNode.removeChild(notification);\n            }, 600);\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n\nexport default notifications\n\n\n// WEBPACK FOOTER //\n// ./public/static/scripts/notifications.js"],"sourceRoot":""}